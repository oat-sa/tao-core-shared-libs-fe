(function(){function h(a){return 20<a.length?!1:(a=a.replace(/[\n|\t]*/g,"").toLowerCase())&&"\x3cbr\x3e"!=a&&"\x3cp\x3e\x26nbsp;\x3cbr\x3e\x3c/p\x3e"!=a&&"\x3cp\x3e\x3cbr\x3e\x3c/p\x3e"!=a&&"\x3cp\x3e\x26nbsp;\x3c/p\x3e"!=a&&"\x26nbsp;"!=a&&" "!=a&&"\x26nbsp;\x3cbr\x3e"!=a&&" \x3cbr\x3e"!=a?!1:!0}function n(a){var b=a.editor,c=b.editable?b.editable():"wysiwyg"==b.mode?b.document&&b.document.getBody():b.textarea,k=a.listenerData;if(c){if("wysiwyg"==b.mode){if(CKEDITOR.dialog._.currentTop||!c)return;
h(c.getHtml())&&(c.setHtml(k),c.addClass("placeholder"))}"source"==b.mode&&(p?"mode"==a.name&&c.setAttribute("placeholder",k):h(c.getValue())&&(c.setValue(k),c.addClass("placeholder")))}}function q(a){a=a.editor;var b=a.editable?a.editable():"wysiwyg"==a.mode?a.document&&a.document.getBody():a.textarea;if(b){if("wysiwyg"==a.mode){if(!b.hasClass("placeholder"))return;b.removeClass("placeholder");if(CKEDITOR.dtd[b.getName()].p){b.setHtml("\x3cp\x3e\x3cbr/\x3e\x3c/p\x3e");var c=new CKEDITOR.dom.range(a.document);
c.moveToElementEditablePosition(b.getFirst(),!0);a.getSelection().selectRanges([c])}else b.setHtml(" ")}"source"==a.mode&&b.hasClass("placeholder")&&(b.removeClass("placeholder"),b.setValue(""))}}function r(a){return a?a.getAttribute("lang")||r(a.getParent()):null}var p="placeholder"in document.createElement("textarea");CKEDITOR.plugins.add("confighelper",{getPlaceholderCss:function(){return".placeholder{ color: #999; }"},onLoad:function(){CKEDITOR.addCss&&CKEDITOR.addCss(this.getPlaceholderCss())},
init:function(a){a.on("mode",function(a){a.editor.focusManager.hasFocus=!1});var b=a.element.getAttribute("placeholder")||a.config.placeholder;if(b){a.addCss&&a.addCss(this.getPlaceholderCss());var c=CKEDITOR.document.getHead().append("style");c.setAttribute("type","text/css");CKEDITOR.env.ie&&11>CKEDITOR.env.version?c.$.styleSheet.cssText="textarea.placeholder { color: #999; font-style: italic; }":c.$.innerHTML="textarea.placeholder { color: #999; font-style: italic; }";a.on("getData",function(b){var l=
a.editable?a.editable():"wysiwyg"==a.mode?a.document&&a.document.getBody():a.textarea;l&&l.hasClass("placeholder")&&(b.data.dataValue="")});a.on("setData",function(b){if(!(CKEDITOR.dialog._.currentTop||"source"==a.mode&&p)){var l=a.editable?a.editable():"wysiwyg"==a.mode?a.document&&a.document.getBody():a.textarea;l&&(h(b.data.dataValue)?n(b):l.hasClass("placeholder")&&l.removeClass("placeholder"))}});a.on("blur",n,null,b);a.on("mode",n,null,b);a.on("focus",q);a.on("beforeModeUnload",q)}(b=a.config.contentsLanguage||
r(a.element))&&!a.config.scayt_sLang&&(a.config.scayt_sLang={en:"en_US","en-us":"en_US","en-gb":"en_GB","pt-br":"pt_BR",da:"da_DK","da-dk":"da_DK","nl-nl":"nl_NL","en-ca":"en_CA","fi-fi":"fi_FI",fr:"fr_FR","fr-fr":"fr_FR","fr-ca":"fr_CA",de:"de_DE","de-de":"de_DE","el-gr":"el_GR",it:"it_IT","it-it":"it_IT","nb-no":"nb_NO",pt:"pt_PT","pt-pt":"pt_PT",es:"es_ES","es-es":"es_ES","sv-se":"sv_SE"}[b.toLowerCase()]);var k=function(a){if("object"==typeof a)return a;a=a.split(";");var b={},c;for(c=0;c<a.length;c++){var d=
a[c].split(":");if(3==d.length){var e=d[0],f=d[1],d=d[2];b[e]||(b[e]={});b[e][f]||(b[e][f]=[]);b[e][f].push(d)}}return b};CKEDITOR.on("dialogDefinition",function(b){if(a==b.editor){var c=b.data.name;b=b.data.definition;var g,d,e,f,m;"tableProperties"==c&&"table"==c;"removeDialogFields"in a._||!a.config.removeDialogFields||(a._.removeDialogFields=k(a.config.removeDialogFields));if(a._.removeDialogFields&&(g=a._.removeDialogFields[c]))for(e in g)for(f=g[e],m=b.getContents(e),d=0;d<f.length;d++)m.remove(f[d]);
"hideDialogFields"in a._||!a.config.hideDialogFields||(a._.hideDialogFields=k(a.config.hideDialogFields));if(a._.hideDialogFields&&(g=a._.hideDialogFields[c]))for(e in g)for(f=g[e],m=b.getContents(e),d=0;d<f.length;d++)m.get(f[d]).hidden=!0;if(a.config.dialogFieldsDefaultValues&&(g=a.config.dialogFieldsDefaultValues[c]))for(e in g){f=g[e];m=b.getContents(e);for(var h in f)(c=m.get(h))&&(c["default"]=f[h])}}})}})})();