CKEDITOR.plugins.add("taountab",{lang:"de,en,fr,nl",init:function(c){c.addCommand("removeTab",{exec:function(a){var h=a.getSelection();a=a.getSelection().getRanges();var b,d,e=new CKEDITOR.dom.text(h._.cache.nativeSel.focusNode),k=e.getText();if(null!==k){b=a[0].startOffset;a[0].setStart(e,Math.max(0,b-4));a[0].setEnd(e,Math.min(b+4,k.length));h.selectRanges([a[0]]);d=h.getSelectedText();for(var f=0,c=-1,g=0;g<d.length;g++)if(" "===d.charAt(g)||d.charAt(g)===String.fromCharCode(160)){if(f||(c=g),
f++,4===f)break}else f=0,c=-1;d=4===f?c:-1;0<=d&&(b=Math.max(0,b-4)+d,e.setText([k.slice(0,b),k.slice(b+4)].join("")));a[0].setStart(e,b);a[0].setEnd(e,b);h.selectRanges([a[0]])}}});c.ui.addButton("TaoUnTab",{label:c.lang.removeTab.button,command:"removeTab",icon:this.path+"images/taountab.png"})}});